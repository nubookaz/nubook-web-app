import{r as m,j as e,c as q}from"./app-968085fd.js";import{R as V}from"./RightPanel-0eceaab0.js";import{S as H}from"./SecondaryButton-1ee136e4.js";import{C as Z}from"./CircularButton-5433ef48.js";import{p as B}from"./index-f033c28d.js";import{T as p}from"./Tooltip-37a15d1f.js";import{I as t}from"./Input-271e9293.js";import"./index.es-3e6cee57.js";import"./useSlot-e00659a1.js";function U({callSheet:g,...v}){const{isRightPanelOpen:f,toggleRightPanel:y}=v,[_,C]=m.useState(!1),[N,w]=m.useState(!1),[a,L]=m.useState({name:"",street_address:"",city:"",state:"",zip_code:"",country:""}),[s,S]=m.useState({name:"",street_address:"",city:"",state:"",zip_code:"",country:""}),[n,b]=m.useState({name:"",street_address:"",city:"",state:"",zip_code:"",country:""}),l=i=>{const{name:o,value:r}=i.target;L({...a,[o]:r})},c=i=>{const{name:o,value:r}=i.target;S({...s,[o]:r})},d=i=>{const{name:o,value:r}=i.target;b({...n,[o]:r})},z=()=>{y(!1)},k=()=>{const{name:i,street_address:o,city:r,state:h,zip_code:x}=a,u=i.trim()!==""&&o.trim()!==""&&r.trim()!==""&&h.trim()!==""&&x.trim()!=="";return C(u),u},P=()=>({name:a.name,street_address:a.street_address,city:a.city,state:a.state,zip_code:a.zip_code,country:a.country,parking_location_id:null,hospital_location_id:null}),M=()=>s.name?{name:s.name,street_address:s.street_address,city:s.city,state:s.state,zip_code:s.zip_code,country:s.country}:null,A=()=>n.name?{name:n.name,street_address:n.street_address,city:n.city,state:n.state,zip_code:n.zip_code,country:n.country}:null,D=()=>{if(w(!0),k()){const o=P(),r=M(),h=A(),x={...o,parking_location:r,hospital_location:h},u="locations.store",I={id:g.project_id},R={callSheetId:g.id};q.post(route(u,{...I,...R}),x).then(j=>{console.log("Location data saved successfully:",j),y(!1)}).catch(j=>{console.error("Error saving location data:",j)})}else console.error("Main location is not valid")};return e.jsx(V,{isRightPanelOpen:f,showSlideOutPanel:!1,panel_header:e.jsxs("div",{children:[e.jsx("h3",{children:"Add a Location"}),e.jsx("p",{className:"p-base",children:"Add location details here"})]}),panel_footer:e.jsxs("div",{className:"flex flex-row gap-4",children:[e.jsx(Z,{icon:B,size:"small",onClick:z}),e.jsx(H,{onClick:D,children:"Add Location"})]}),children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-10 form-group",children:[e.jsx("div",{className:"w-full mb-2 input-group",children:e.jsx(p,{title:"Location Name is required",placement:"top",arrow:!0,open:N&&!_,children:e.jsx(t,{type:"text",name:"name",value:a.name,onChange:l,placeholder:"Name"})})}),e.jsx("div",{className:"w-full mb-2 input-group",children:e.jsx(p,{title:"Street Address is required",placement:"top",arrow:!0,children:e.jsx(t,{type:"text",name:"street_address",value:a.street_address,onChange:l,placeholder:"Street Address"})})}),e.jsxs("div",{className:"flex flex-row gap-2 mb-2 input-group",children:[e.jsx("div",{className:"w-full",children:e.jsx(p,{title:"City is required",placement:"top",arrow:!0,children:e.jsx(t,{type:"text",name:"city",value:a.city,onChange:l,placeholder:"City"})})}),e.jsx("div",{className:"w-[9rem]",children:e.jsx(p,{title:"State is required",placement:"top",arrow:!0,children:e.jsx(t,{type:"text",name:"state",value:a.state,onChange:l,placeholder:"State"})})}),e.jsx("div",{className:"w-[10rem]",children:e.jsx(p,{title:"ZIP Code is required",placement:"top",arrow:!0,children:e.jsx(t,{type:"text",name:"zip_code",value:a.zip_code,onChange:l,placeholder:"ZIP Code"})})})]}),e.jsx("div",{className:"w-full mb-2 input-group",children:e.jsx(p,{title:"Street Address is required",placement:"top",arrow:!0,children:e.jsx(t,{type:"text",name:"country",value:a.country,onChange:l,placeholder:"Country"})})})]}),e.jsxs("div",{className:"mb-10 form-group",children:[e.jsx("h3",{className:"mb-4",children:"Parking Details"}),e.jsx("div",{className:"w-full mb-2 input-group",children:e.jsx(t,{type:"text",name:"name",value:s.name,onChange:c,placeholder:"Name"})}),e.jsx("div",{className:"w-full mb-2 input-group",children:e.jsx(t,{type:"text",name:"street_address",value:s.street_address,onChange:c,placeholder:"Street Address"})}),e.jsxs("div",{className:"flex flex-row gap-2 mb-2 input-group",children:[e.jsx("div",{className:"w-full",children:e.jsx(t,{type:"text",name:"city",value:s.city,onChange:c,placeholder:"City"})}),e.jsx("div",{className:"w-[9rem]",children:e.jsx(t,{type:"text",name:"state",value:s.state,onChange:c,placeholder:"State"})}),e.jsx("div",{className:"w-[10rem]",children:e.jsx(t,{type:"text",name:"zip_code",value:s.zip_code,onChange:c,placeholder:"ZIP Code"})})]}),e.jsx("div",{className:"w-full mb-2 input-group",children:e.jsx(t,{type:"text",name:"country",value:s.country,onChange:c,placeholder:"Country"})})]}),e.jsxs("div",{className:"mb- form-group",children:[e.jsx("h3",{className:"mb-4",children:"Nearest Hospital"}),e.jsx("div",{className:"w-full mb-2 input-group",children:e.jsx(t,{type:"text",name:"name",value:n.name,onChange:d,placeholder:"Name"})}),e.jsx("div",{className:"w-full mb-2 input-group",children:e.jsx(t,{type:"text",name:"street_address",value:n.street_address,onChange:d,placeholder:"Street Address"})}),e.jsxs("div",{className:"flex flex-row gap-2 mb-2 input-group",children:[e.jsx("div",{className:"w-full",children:e.jsx(t,{type:"text",name:"city",value:n.city,onChange:d,placeholder:"City"})}),e.jsx("div",{className:"w-[9rem]",children:e.jsx(t,{type:"text",name:"state",value:n.state,onChange:d,placeholder:"State"})}),e.jsx("div",{className:"w-[10rem]",children:e.jsx(t,{type:"text",name:"zip_code",value:n.zip_code,onChange:d,placeholder:"ZIP Code"})})]}),e.jsx("div",{className:"w-full mb-2 input-group",children:e.jsx(t,{type:"text",name:"country",value:n.country,onChange:d,placeholder:"Country"})})]})]})})}export{U as default};
