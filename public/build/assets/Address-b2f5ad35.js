import{r as f,j as t}from"./app-659a3aa2.js";import{T as j}from"./Tooltip-a5a4d78a.js";import"./toPropertyKey-61b1ecea.js";import"./useSlot-d43794ee.js";import"./useIsFocusVisible-7ca602c7.js";import"./useControlled-adcd3c46.js";import"./useEventCallback-0c2e09c7.js";import"./useEnhancedEffect-12b0a06e.js";import"./Popper-26c3d1f1.js";const C=async(s,l)=>{const c="https://maps.googleapis.com/maps/api/geocode/json",d=window.GoogleMapApi;if(!s||!l)throw new Error("Invalid address or zip code");try{const o=await(await fetch(`${c}?address=${encodeURIComponent(s)},${encodeURIComponent(l)}&key=${d}`)).json();if(o.status!=="OK")throw new Error(o.error_message||"Failed to fetch geocode data");return o.results.length>0?o.results[0].geometry.location:null}catch(n){throw console.error("Geocoding error:",n),n}},E=({data:s={},onAddressChange:l,emptyFields:c={},setEmptyFields:d=()=>{}})=>{const n={street_address:"",city:"",state:"",zip_code:""},[o,p]=f.useState(n);f.useEffect(()=>{Object.keys(s).length>0&&p({street_address:s.street_address||"",city:s.city||"",state:s.state||"",zip_code:s.zip_code||""})},[s]);const w=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],u=(e,a)=>{const r={...o,[e]:a};p(r),d({...c,[e]:!a}),r.street_address&&r.zip_code&&y(r)},y=async e=>{const{street_address:a,city:r,state:g,zip_code:m}=e;try{const i=await C(a,m);if(i){const x={...e,latitude:i.lat,longitude:i.lng};p(x),l(x)}}catch(i){console.error("Error fetching geocode:",i)}},h=(e,a,r="text",g,m)=>t.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[t.jsx("label",{htmlFor:e,className:"text-gray-400 text-sm",children:a}),t.jsx(j,{title:`${a} is required`,open:!!c[e],placement:"right",children:t.jsx("input",{id:e,type:r,value:o[e],onChange:i=>u(e,i.target.value),placeholder:g,autoComplete:m})})]});return t.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[h("street_address","Street Address","text","Street Address","street-address"),t.jsxs("div",{className:"flex flex-row gap-2 w-full",children:[h("city","City","text","City","address-level2"),t.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[t.jsx("label",{htmlFor:"state",className:"text-gray-400 text-sm",children:"State"}),t.jsxs("select",{id:"state",value:o.state,onChange:e=>u("state",e.target.value),autoComplete:"address-level1",children:[t.jsx("option",{value:"",children:"Select a State"}),w.map((e,a)=>t.jsx("option",{value:e,children:e},a))]})]}),h("zip_code","Zip Code","text","Zip Code","postal-code")]})]})};export{E as default};
