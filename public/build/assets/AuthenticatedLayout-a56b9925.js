import{j as e,u as M,r as x,R as I,c as V,m as R,d as D,y as W}from"./app-659a3aa2.js";import{F as i}from"./index.es-6780b8c7.js";import{e as z,g as A,h as k,i as F,j as _,k as L,l as q,m as B,n as H,o as Q,p as T,q as G}from"./index-84704c9c.js";import{M as J}from"./Modal-cab82769.js";import K from"./VerificationProcess-0d2b000e.js";function U({className:o}){return e.jsx("div",{className:`${o} application-logo`,children:e.jsx(i,{icon:z,className:"logo-icon"})})}const X=({project:o,isVisible:u,activePage:s,onLinkClick:h})=>{const{createNewProject:p}=M(),n=o==null?void 0:o.id,g={"projects.callSheets.index":s.startsWith("callSheet.details.page")},[N,w]=x.useState(g),m="text-2xl text-slate-400",c=a=>!!(s.startsWith(a)||a==="projects.callSheets.index"&&s.startsWith("callSheet.details.page")),d="font-bold text-emerald-500",j=a=>{w(t=>({...t,[a]:!t[a]}))},v=[{label:"Overview",routeName:"projects.index",icon:A},{label:"Project Overview",routeName:"projects.list",icon:_}],y=[{label:"Details",routeName:"projects.details",icon:A},{label:"Call Sheets",routeName:"projects.callSheets.index",icon:k,subitems:n&&s.startsWith("callSheet.details.page")?[{label:"Subitem 1",routeName:`projects.callSheets.details.${n}.subitem1`,icon:k},{label:"Subitem 2",routeName:`projects.callSheets.details.${n}.subitem2`,icon:k}]:[]}],S=[{label:"Profile Settings",routeName:"profile.settings",icon:L},{label:"Account Settings",routeName:"settings.account",icon:L}],l=a=>a.map((t,O)=>{let $={};(t.routeName.startsWith("projects.details")||t.routeName==="projects.callSheets.index")&&($={projectId:n});const b=t.subitems&&t.subitems.length>0,C=N[t.routeName];return e.jsxs(I.Fragment,{children:[e.jsxs("li",{className:`cursor-pointer justify-between w-full ${b?"flex flex-row":""} ${c(t.routeName)?d:""}`,children:[e.jsxs("div",{className:"flex flex-row gap-4",onClick:f=>{f.preventDefault(),b||h(f,route(t.routeName,$))},children:[e.jsx(i,{className:"my-auto text-xl",icon:t.icon}),e.jsx("span",{className:`w-full flex text-left shrink text-xl ${c(t.routeName)?d:""}`,children:t.label})]}),b&&e.jsx(i,{icon:F,style:{transform:C?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.5s ease"},className:"my-auto text-xl cursor-pointer",onClick:()=>j(t.routeName)})]}),b&&e.jsx("ul",{className:`pl-4 flex flex-col gap-6 mt-4 transition-all duration-500 ${C?"opacity-1":"opacity-0"}`,children:t.subitems.map((f,E)=>e.jsx("li",{className:`cursor-pointer flex flex-row gap-8 justify-between w-full ${c(f.routeName)?d:""}`,onClick:P=>{P.preventDefault(),h(P,route(f.routeName,$))},children:e.jsx("span",{className:"pl-4",children:f.label})},E))})]},O)}),r=s.includes("projects.details")||s.includes("projects.callSheets");return e.jsx("div",{className:`page-navigation transition-all duration-300 h-full  bg-white shadow-xl rounded-2xl ${u?"opacity-1 pointer-events-auto":"opacity-0 pointer-events-none"}`,children:e.jsxs("div",{className:`p-8 w-full delay-300 duration-500 h-full ${u?"opacity-1":"opacity-0"}`,children:[e.jsx("div",{className:`fade-in ${s==="dashboard"?"":"hidden"}`,children:e.jsx("h2",{className:m,children:"Dashboard"})}),e.jsxs("div",{className:`fade-in flex flex-col h-full justify-between ${s.includes("projects")&&!r?"":"hidden"}`,children:[e.jsx("h2",{className:m,children:"Projects"}),e.jsx("ul",{className:"my-8 flex flex-col gap-6 ml-4 justify-start grow",children:l(v)}),e.jsx("button",{onClick:p,children:"New Project"}),s==="projects.list"&&e.jsxs("div",{className:"filters flex flex-col gap-4 pr-8 justify-end",children:[e.jsxs("select",{className:"bg-slate-200 text-sm px-2 py-1",children:[e.jsx("option",{value:"",children:"View All"}),e.jsx("option",{value:"",children:"Published"})]}),e.jsxs("select",{className:"bg-slate-200 text-sm px-2 py-1",children:[e.jsx("option",{value:"",children:"View All"}),e.jsx("option",{value:"",children:"Published"})]})]})]}),e.jsxs("div",{className:`fade-in ${r?"":"hidden"}`,children:[e.jsx("h2",{className:m,children:"Production Book"}),e.jsx("ul",{className:"my-8 flex flex-col gap-6 ml-4",children:l(y)}),s==="callSheet.details.page"&&e.jsx("div",{className:"filters flex flex-col gap-4 pr-8 justify-end"})]}),e.jsxs("div",{className:`fade-in ${s==="profile.settings"?"":"hidden"}`,children:[e.jsx("h2",{className:m,children:"Settings"}),e.jsx("ul",{className:"my-8 flex flex-col gap-6 ml-4",children:l(S)})]})]})})},Y=X;function Z({project:o}){const{toggleModal:u}=V(),{isDarkMode:s,toggleDarkMode:h}=R(),p=()=>{u({type:"projectForm"})},n=()=>{u({type:"logOut"})},g=s?"!text-emerald-500 !bg-slate-700 duration-500":"!text-emerald-500 !bg-slate-50 duration-500",N=x.useMemo(()=>(l,r,a)=>`${route().current(l)?a:""} ${r}`,[]),[w,m]=x.useState(""),[c,d]=x.useState(!1),j=x.useRef(),v=x.useRef(),y=()=>{const l=route().current();m(l),d(r=>!r)};x.useEffect(()=>{function l(a){j.current&&!j.current.contains(a.target)&&!v.current.contains(a.target)&&d(!1)}function r(a){a.key==="Escape"&&d(!1)}return document.addEventListener("mousedown",l),document.addEventListener("keydown",r),()=>{document.removeEventListener("mousedown",l),document.removeEventListener("keydown",r)}},[]);const S=(l,r)=>{l.preventDefault(),d(!1),setTimeout(()=>{W.visit(r)},200)};return e.jsxs("div",{id:"sidebar",className:` fixed left-[1rem] top-[1rem] h-[97%] flex flex-row ${c?"max-w-[25rem] gap-4":"gap-0"} duration-500`,children:[e.jsxs("div",{className:`py-6 z-50 rounded-2xl ${s?"duration-800 bg-slate-800":"bg-white"} w-[4rem] flex flex-col gap-4 justify-between`,children:[e.jsx(U,{className:"text-emerald-500"}),e.jsx("div",{ref:v,className:"open-nav cursor-pointer flex flex-col gap-6 justify-start justify-center items-center py-8",onClick:y,children:e.jsx(i,{icon:q,className:`rounded-lg duration-500 rotate-90 h-[1.2rem] w-[1.2rem] p-[.75rem]
                            ${c?"bg-slate-100 text-emerald-500":`${s?"duration-800 text-slate-400 bg-slate-600 hover:bg-slate-50 hover:text-slate-500":"bg-slate-100 text-slate-400 hover:bg-slate-400 hover:text-white"}`} 
                        `})}),e.jsxs("div",{className:"sidebar-content grow justify-center flex flex-col gap-[8rem] mt-[5rem]",children:[e.jsxs("nav",{className:"nav-links cursor-pointer flex flex-col gap-4",children:[e.jsx(D,{href:route("dashboard"),className:"cursor-pointer",children:e.jsx(i,{icon:B,className:N("dashboard",`${s?"duration-800 hover:bg-slate-600 hover:text-slate-300 text-slate-500":"text-slate-300 hover:bg-slate-100 hover:text-slate-500"} duration-500 h-[1.2rem] w-[1.2rem] p-[.75rem]`,g)})}),e.jsx(D,{href:route("projects.index"),children:e.jsx(i,{icon:H,className:N("projects.*",`${s?"duration-800 hover:bg-slate-600 hover:text-slate-300 text-slate-500":"text-slate-300 hover:bg-slate-100 hover:text-slate-500"} duration-500 h-[1.2rem] w-[1.2rem] p-[.75rem]`,g)})})]}),e.jsx("div",{className:"w-full flex justify-center items-center",children:e.jsx(i,{onClick:p,icon:Q,className:`${s?"":"bg-white"} cursor-pointer hover:bg-white text-emerald-400 hover:text-emerald-600 rounded-full duration-500 drop-shadow-[0_0_5px_rgb(16,185,129,1)] flex justify-center text-[2.7rem] text-center`})})]}),e.jsxs("div",{className:"w-full flex flex-col gap-10 justify-end items-center ",children:[e.jsx(i,{icon:T,onClick:n,className:`${s?"duration-800 text-slate-700 hover:bg-slate-600":"text-slate-200 hover:bg-slate-50"} hover:text-rose-500 cursor-pointer duration-500 rounded-md h-[1.2rem] w-[1.2rem] p-[.75rem]`}),e.jsx(i,{icon:G,className:`${s?"duration-800 text-slate-700 ":"text-slate-200"} hover:text-blue-500 cursor-pointer duration-500 ease-in-out w-full text-2xl `})]})]}),e.jsx("div",{ref:j,className:`page-nav-container ${c?"visible":""}`,children:e.jsx(Y,{project:o,activePage:w,isVisible:c,onLinkClick:S})})]})}function re({children:o,project:u}){const{isModalOpen:s,currentStep:h,setIsModalOpen:p,setCurrentStep:n}=M();return e.jsxs("div",{className:"min-h-screen tertiary-color relative bg-slate-50",children:[s&&e.jsx("div",{className:"absolute z-40 w-full",children:e.jsx(J,{isOpen:s,shouldCloseOnOverlayClick:!1,className:"!w-[70rem]",children:e.jsx(K,{currentStep:h,setCurrentStep:n,setIsModalOpen:p})})}),e.jsxs("div",{className:"bg-slate-100",children:[e.jsx("div",{className:"absolute z-30 w-full",children:e.jsx(Z,{project:u})}),e.jsx("main",{className:"flex flex-col w-full h-screen overflow-hidden",children:o.portal})]})]})}export{re as A};
