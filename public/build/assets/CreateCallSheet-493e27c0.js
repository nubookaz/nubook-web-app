import{b as M,n as B,e as E,r as a,j as e}from"./app-8b83436b.js";import{P as G}from"./PrimaryButton-83478115.js";import{S as J}from"./SecondaryButton-ae44dfd5.js";import{I as r}from"./Input-77ff0868.js";import{S as d}from"./Select-33702378.js";import{f as z}from"./index-1a2c3076.js";import K from"./CallSheetDetailsForm-945363c8.js";import"./index.es-ee268f83.js";import"./index-3b70e7e7.js";import"./Tooltip-1f0ef08d.js";import"./toPropertyKey-39201a13.js";import"./useSlot-a2532144.js";import"./useIsFocusVisible-97f68d26.js";import"./useControlled-9031fbe1.js";import"./useEventCallback-96e4a742.js";import"./useEnhancedEffect-99238f73.js";import"./Popper-794acb7d.js";import"./Time-0bff5189.js";function ce({roles:u,onClose:n}){const{currentProjectId:h}=M(),{createCallSheet:p}=B();E();const x=a.useRef(null),[o,f]=a.useState(""),[c,C]=a.useState(new Date),[i,S]=a.useState(""),j=t=>{const{name:m,value:H}=t.target;switch(m){case"call_sheet_name":f(H);break}},g=t=>{C(t)},y=t=>{S(t)},v=async()=>{const t=z(c,"yyyy-MM-dd");await p({call_sheet_name:o,call_sheet_date:t,general_call_Time:i,project_id:h}),n()},[R,N]=a.useState("Day Rate"),[w,b]=a.useState(""),[l,D]=a.useState(!1),[s,T]=a.useState(""),[_,P]=a.useState(""),[q,A]=a.useState(""),F=t=>{T(t.target.value)},k=t=>{P(t.target.value)},I=t=>{A(t.target.value)};return e.jsxs("div",{className:"p-[4rem] flex flex-col gap-6 h-full w-[40rem]",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-center text-2xl text-slate-500",children:"Create a New Call Sheet"}),e.jsx("p",{className:"text-slate-400 text-lg text-center",children:"Add details to the call sheet below "})]}),e.jsx(K,{callSheetName:o,handleChange:j,handleDateChange:g,handleTimeChange:y,generalCallTime:i,startDate:c}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("label",{className:"items-center flex text-slate-400 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l,onChange:()=>D(!l),className:"mr-4 rounded-sm border-slate-300"})," Add myself as a recipient"]}),l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-row gap-6",children:[e.jsx(d,{ref:x,title:"Role",label:"Role",name:"role",value:s,onChange:F,required:!0,children:u.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))}),e.jsx(r,{label:s=="5"?"Position":"Name of Role",value:_,onChange:k,placeholder:s=="5"?"Director, Grip, PA, etc":"Indiana Jones"})]}),e.jsxs("div",{className:"flex flex-row gap-6",children:[e.jsxs(d,{title:"Frequency",label:"Frequency",name:"pay_frequency",className:"w-[19rem]",value:R,onChange:t=>N(t.target.value),children:[e.jsx("option",{value:"Day Rate",children:"Day Rate"}),e.jsx("option",{value:"Hourly Rate",children:"Hourly Rate"})]}),e.jsx(r,{label:"Rate",type:"number",min:"0",step:"0.01",className:"w-[42rem]",value:w,onChange:t=>b(t.target.value),placeholder:"Hourly or daily rate"}),e.jsx(r,{label:"Call Time",type:"time",value:q,required:!0,onChange:I})]})]})]}),e.jsxs("div",{className:"flex flex-row justify-between mx-auto items-center w-full max-w-[30rem] gap-4 pt-10",children:[e.jsx(J,{className:"w-full",onClick:n,children:"Cancel"}),e.jsx(G,{className:"w-full",onClick:v,children:"Create"})]})]})}export{ce as default};
