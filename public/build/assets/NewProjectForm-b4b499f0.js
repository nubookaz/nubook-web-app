import{r as e,j as s,y as $}from"./app-968085fd.js";import{R as we}from"./RightPanel-0eceaab0.js";import{S as ee}from"./SecondaryButton-1ee136e4.js";import{C as te}from"./CircularButton-5433ef48.js";import{I as Ne,p as ke}from"./index-f033c28d.js";import Te from"./ProjectDetailsForm-dc303351.js";import ve from"./ProjectClientForm-e1d24684.js";import"./index.es-3e6cee57.js";import"./Tooltip-37a15d1f.js";import"./useSlot-e00659a1.js";import"./Option-68e62e81.js";import"./ListItemButton-9e7b24bd.js";import"./createSvgIcon-cb2127eb.js";import"./Input-271e9293.js";import"./Textarea-e1ab5a14.js";import"./Typography-a41e099d.js";import"./isMuiElement-8221bc9b.js";import"./useSwitch-f1ae9baa.js";function Ue(se){const[r,d]=e.useState(1),[Oe,oe]=e.useState(!1),{isRightPanelOpen:S,toggleRightPanel:N}=se,[Ve,ne]=e.useState(!0),[Be,re]=e.useState(!0),[k,T]=e.useState(!1),[ae,be]=e.useState(!0),[u,v]=e.useState(""),[j,O]=e.useState(""),[l,V]=e.useState(""),[p,B]=e.useState(""),[a,b]=e.useState(""),[C,R]=e.useState(""),[f,D]=e.useState(""),[y,F]=e.useState(""),[g,I]=e.useState(""),[m,A]=e.useState(""),[h,E]=e.useState(""),[P,q]=e.useState(""),[M,L]=e.useState(""),[x,z]=e.useState(""),[J,Y]=e.useState(""),[_,X]=e.useState(""),[G,H]=e.useState(""),[i,K]=e.useState(!1),[Q,ie]=e.useState(!1),U={projectName:u,projectBudget:j,projectType:l,categoryType:p,projectStage:a,projectDescription:C,projectDays:f,projectMonths:y,projectYears:g},W={companyName:m,einNumber:h},ce={companyTypeChecked:i,clientFirstName:P,clientMiddleInitial:M,clientLastName:x,clientJobTitle:J,clientEmailAddress:_,clientPhoneNumber:G},le=()=>{setIsRightPanelOpen(!S),oe(!0)},Z=t=>{r===1?(T(!0),me()?(console.log("Step one is valid!"),d(2)):console.error("Please fill out all required fields on step one.")):r===2?he()?d(3):console.error("Please fill out all required fields on step two."):ue()},pe=t=>new Promise((o,c)=>{$.post(route("projects.create"),t,{onSuccess:n=>{console.log("response project",n);const xe=n.props.project.id;o(xe)},onError:n=>{console.error("Error creating project:",n),c(n)}})}),de=t=>new Promise((o,c)=>{$.post(route("associations.create"),t,{onSuccess:n=>{console.log("Association Created",n),o()},onError:n=>{console.error("Error creating association:",n),c(n)}})}),ue=async()=>{ce.companyTypeChecked===!0||W.companyName?await de({projectData:U,companyData:W}):await pe(U)},me=()=>{const t=u.trim()!=="",o=l!=="",c=p!=="",n=a!=="";return ne(t&&o&&c&&n),t&&o&&c&&n},he=()=>{const t=i,o=!t||t&&m.trim()!=="";return t&&h.trim(),re(o),console.log(i,Q,o),o},Se=t=>{K(t)},je=t=>{ie(t)},Ce=()=>{r===3?d(2):r===2&&d(1)},fe=()=>{w()?window.confirm("Are you sure you want to proceed?")&&(T(!1),N(!S),v(""),O(""),V(""),B(""),b(""),R(""),D(""),F(""),I(""),K(""),A(""),E(""),q(""),L(""),z(""),Y(""),X(""),H("")):N(!1)},w=()=>{let t=!1;if(r===1)t=u!==""||j!==""||l!==""&&l!=="Select an option"||p!==""&&p!=="Select an option"||a!==""&&a!=="Select an option"||C!==""||f!==""||y!==""||g!=="",console.log(a);else if(r===2){const o=i;t=i!==""||!o||o&&m.trim()!==""||o&&h.trim()!==""||P.trim()!==""||x.trim()!==""}else t=!0;return t},ye=()=>{switch(r){case 1:return s.jsx("div",{className:"step-1",children:s.jsx(Te,{required:ae,checkFormStatus:w,nextButtonClicked:k,setProjectType:V,setProjectName:v,setProjectBudget:O,setCategoryType:B,setProjectStage:b,setProjectDescription:R,setProjectDays:D,setProjectMonths:F,setProjectYears:I,projectType:l,projectName:u,projectBudget:j,categoryType:p,projectStage:a,projectDescription:C,projectDays:f,projectMonths:y,projectYears:g})});case 2:return s.jsx("div",{className:"step-2",children:s.jsx(ve,{companyName:m,setCompanyName:A,einNumber:h,setEinNumber:E,clientFirstName:P,setClientFirstName:q,clientMiddleInitial:M,setClientMiddleInitial:L,clientLastName:x,setClientLastName:z,clientJobTitle:J,setClientJobTitle:Y,clientEmailAddress:_,setClientEmailAddress:X,clientPhoneNumber:G,setClientPhoneNumber:H,nextButtonClicked:k,checkFormStatus:w,companyTypeChecked:i,companyOwnerChecked:Q,handleCompanyTypeCheckedChange:Se,handleCompanyOwnerCheckedChange:je})});case 3:return s.jsx("div",{className:"step-3",children:"This is step 3"});default:return null}},ge=()=>r===1||r===2?s.jsx(ee,{onClick:Z,children:"Next Step"}):s.jsx(ee,{onClick:Z,children:"Create Project"}),Pe=()=>r>1?s.jsx(te,{icon:Ne,size:"small",onClick:Ce}):s.jsx(te,{icon:ke,size:"small",onClick:fe});return s.jsx(we,{isRightPanelOpen:S,toggleRightPanel:le,showSlideOutPanel:!1,panel_header:s.jsx("div",{className:"header",children:r===1?s.jsxs("div",{children:[s.jsx("h2",{children:"Create a new project"}),s.jsx("p",{className:"p-base",children:"Enter details below for your new project"})]}):r===2?s.jsxs("div",{children:[s.jsx("h2",{children:"Is this a new Client?"}),s.jsx("p",{className:"p-base",children:"Do you want to associate this project with a client?"})]}):s.jsxs("div",{children:[s.jsx("h2",{children:"Additional Project Details"}),s.jsx("p",{className:"p-base",children:"If you have details for the project add them here"})]})}),panel_footer:s.jsxs("div",{className:"flex flex-row gap-4",children:[Pe(),ge()]}),children:ye()})}export{Ue as default};
