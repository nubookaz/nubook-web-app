import{s as k,b as f,n as C,t as y,u as _,r as l,j as e}from"./app-d6201cb1.js";const P=({onClose:t})=>{const{addTask:j}=k(),{projects:v}=f(),{callSheetRecipients:N}=C(),{users:g}=y(),{user:a}=_(),[d,n]=l.useState(""),[c,o]=l.useState(""),[i,r]=l.useState(""),[u,m]=l.useState(""),[h,x]=l.useState(""),[p,b]=l.useState(""),S=async s=>{s.preventDefault(),await j({name:d,description:c,status:i,project_id:u,call_sheet_id:h,user_id:p||(a==null?void 0:a.id)}),n(""),o(""),r(""),m(""),x(""),b(""),t()};return e.jsxs("div",{className:"p-8 w-[65rem]",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Task"}),e.jsxs("form",{onSubmit:S,children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block mb-1",children:"Task Name"}),e.jsx("input",{type:"text",value:d,onChange:s=>n(s.target.value),className:"w-full px-3 py-2 border rounded",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-1",children:"Description"}),e.jsx("textarea",{rows:"3",value:c,onChange:s=>o(s.target.value),className:"w-full px-3 py-2 border rounded",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-1",children:"Status"}),e.jsxs("select",{value:i,onChange:s=>r(s.target.value),className:"w-full px-3 py-2 border rounded",required:!0,children:[e.jsx("option",{value:"",children:"Select a Status"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block mb-1",children:"Project"}),e.jsxs("select",{value:u,onChange:s=>m(s.target.value),className:"w-full px-3 py-2 border rounded",children:[e.jsx("option",{value:"",children:"Select a Project"}),v.map(s=>e.jsx("option",{value:s.id,children:s.project_name},s.id))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-1",children:"Call Sheet"}),e.jsxs("select",{value:h,onChange:s=>x(s.target.value),className:"w-full px-3 py-2 border rounded",children:[e.jsx("option",{value:"",children:"Select a Call Sheet"}),N.map(s=>e.jsxs("option",{value:s.pivot.call_sheet_id,children:[s.pivot.call_sheet_id," - ",s.name]},s.pivot.call_sheet_id))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-1",children:"Assign To"}),e.jsxs("select",{value:p,onChange:s=>b(s.target.value),className:"w-full px-3 py-2 border rounded",required:!0,children:[e.jsxs("option",{value:a==null?void 0:a.id,children:[a==null?void 0:a.first_name," ",a==null?void 0:a.last_name]}),g.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border rounded",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 border rounded bg-blue-500 text-white",children:"Add Task"})]})]})]})};export{P as default};
