import{u as y,r as t,j as o}from"./app-e454a32c.js";import{i as x}from"./BannerImage-2d65b704.js";import b from"./UploadableProfilePicture-f70c7d40.js";import h from"./PersonalInfo-225ba40c.js";import{P as j}from"./PrimaryButton-40aba8a0.js";import g from"./CompanyInfo-966f1a25.js";import"./index-f17427d6.js";import"./index-af94e81f.js";import"./Address-3dede1de.js";import"./Tooltip-be341731.js";import"./toPropertyKey-a22241f9.js";import"./useSlot-7faddf1c.js";import"./useIsFocusVisible-3e69e93a.js";import"./useEventCallback-49b41c49.js";import"./useEnhancedEffect-43c2324b.js";import"./Popper-834fe13e.js";import"./UserName-7eb75d0f.js";import"./Phone-fd7278da.js";function J({mustVerifyEmail:v,status:w,auth:P,onSave:l}){const{user:e,fetchUserData:p}=y();t.useEffect(()=>{p()},[]);const[c,d]=t.useState({}),[u,a]=t.useState(!1),[i,s]=t.useState({first_name:"",last_name:"",middle_initial:"",tel:"",street_address:"",city:"",state:"",zip_code:""}),[n,m]=t.useState({company_name:"",ein_number:"",job_title:"",number_of_employees:"",referral:""});t.useEffect(()=>{e&&(s({first_name:e.first_name||"",last_name:e.last_name||"",middle_initial:e.middle_initial||"",tel:e.phone&&e.phone.tel||"",street_address:e.location&&e.location.street_address||"",city:e.location&&e.location.city||"",state:e.location&&e.location.state||"",zip_code:e.location&&e.location.zip_code||""}),m({company_name:e.primary_production_company&&e.primary_production_company.company_name||"",ein_number:e.primary_production_company&&e.primary_production_company.ein_number||"",job_title:e.primary_production_company&&e.primary_production_company.job_title||"",number_of_employees:e.primary_production_company&&e.primary_production_company.number_of_employees||"",referral:e.primary_production_company&&e.primary_production_company.referral||""}))},[e]);const f=async _=>{_.preventDefault(),a(!0);try{await axios.patch(route("profile.update"),{personalInfo:i,companyInfo:n}),l(!0);const r=new CustomEvent("updateUserData");window.dispatchEvent(r)}catch(r){console.log(r)}finally{a(!1)}};return o.jsxs("div",{children:[o.jsxs("div",{className:"relative mb-1",children:[o.jsx("div",{className:"w-full h-[8rem] relative",style:{backgroundImage:`url(${x})`,backgroundSize:"cover",backgroundPosition:"center"},children:o.jsx("div",{className:"absolute bg-black h-full w-full opacity-[.5] p-[1rem] z-0"})}),o.jsx(b,{isUploadable:!0,className:"!h-[10rem] !w-[10rem] ml-6 absolute top-[1.5rem] border-red-500"})]}),o.jsxs("div",{className:"py-6 px-8 w-full flex flex-row gap-6 grow justify-end h-full",children:[o.jsx("div",{className:"w-[30%] flex grow"}),o.jsxs("form",{onSubmit:f,className:"w-full flex grow flex-col gap-8 ",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"mb-4",children:"Personal Profile"}),o.jsx(h,{onUpdateInfo:s,data:i,emptyFields:c,setEmptyFields:d})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"mb-4",children:"Company Profile"}),o.jsx(g,{onUpdateInfo:m,existingData:n})]}),o.jsx(j,{disabled:u,children:"Save Profile Settings"})]})]})]})}export{J as default};
