import{i as E,r as d,j as e}from"./app-659a3aa2.js";import{E as A}from"./EmptyContent-f0c7321b.js";import P from"./UserName-0c92173c.js";import{F as k}from"./FormControl-ce9c98b9.js";import{A as B,c as U,d as O}from"./Autocomplete-653e6d3e.js";import"./SecondaryButton-f759061d.js";import"./index.es-6780b8c7.js";import"./index-9e3aa4c7.js";import"./Tooltip-a5a4d78a.js";import"./toPropertyKey-61b1ecea.js";import"./useSlot-d43794ee.js";import"./useIsFocusVisible-7ca602c7.js";import"./useControlled-adcd3c46.js";import"./useEventCallback-0c2e09c7.js";import"./useEnhancedEffect-12b0a06e.js";import"./Popper-26c3d1f1.js";import"./FormControlContext-dd3b9a17.js";import"./createSvgIcon-b106def2.js";import"./variantColorInheritance-f8d1dad2.js";import"./CircularProgress-af137ff7.js";import"./useForwardedInput-be5dd50b.js";import"./ListItemButton-7a78b6ef.js";import"./styleUtils-0df93871.js";import"./RadioGroupContext-96bab4a2.js";import"./isMuiElement-3bff42a8.js";import"./Chip-a964b04e.js";const T=O(),J=["Planning","Pre-production","Production","Post-production","Completed"],Y=["Active","On Hold","Cancelled","Completed"],R=["USD","EUR","GBP","JPY","AUD","CAD"],q={USD:"$",EUR:"€",GBP:"£",JPY:"¥",AUD:"A$",CAD:"C$"},b=(a,m)=>{let n=a.replace(/\D/g,"");return m==="JPY"?n=n.replace(/\B(?=(\d{3})+(?!\d))/g,","):n=(n/100).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),n},ue=({additionalVideoDetails:a,setAdditionalVideoDetails:m,selectedClientIds:n,setSelectedClientIds:g})=>{const{clients:o}=E(),[h,i]=d.useState(null),[x,N]=d.useState("USD"),[f,u]=d.useState(!1),[y,v]=d.useState({first_name:!1,last_name:!1}),w=s=>{g(l=>l.includes(s)?l.filter(t=>t!==s):[...l,s])};d.useEffect(()=>{m(s=>({...s,selectedClientIds:n}))},[n,m]);const c=s=>{const{name:l,value:t}=s.target;if(l==="projectBudget"){const r=b(t,x);m(p=>({...p,[l]:r}))}else m(r=>({...r,[l]:t}))},C=s=>{N(s.target.value);const l=b(a.projectBudget,s.target.value);m(t=>({...t,projectBudget:l}))},_=(s,l,t)=>{l&&l.inputValue?(u(!0),i(l.inputValue)):t==="clear"?(u(!1),i("")):(u(!1),i(l?`${l.first_name} ${l.last_name}`:""),m(r=>({...r,client:l?`${l.first_name} ${l.last_name}`:""})))},S=()=>f||!o||o.length===0?null:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-slate-500",children:"Existing Clients"}),e.jsx("p",{children:"Choose clients below to attach this project to"})]}),e.jsx("div",{className:"w-full h-[3rem] bottom-0 absolute z-10 bg-gradient-to-t from-white to transparent"}),e.jsx("div",{className:"max-h-[26rem] overflow-scroll flex flex-col gap-1 px-2 pb-[2.5rem]",children:o.map((s,l)=>e.jsx("div",{children:e.jsx("div",{className:`w-full cursor-pointer px-4 py-[1rem] rounded-2xl ${n.includes(s.id)?"border-emerald-500 border-4 shadow-md bg-emerald-50":"border-4 border-white bg-slate-50"}`,onClick:()=>w(s.id),children:e.jsxs("div",{className:"flex flex-row gap-8",children:[e.jsx("div",{className:"rounded-full shadow-sm w-[6rem] h-[5rem] bg-white my-auto ",children:e.jsx("span",{className:"font-light text-2xl flex justify-center items-center text-center h-full",children:"JD"})}),e.jsx("div",{className:"flex flex-row gap-2 w-full",children:e.jsxs("div",{className:"flex flex-row gap-2 h-full justify-between w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("h3",{className:`text-xl ${n.includes(s.id)?"text-emerald-500":"text-slate-400"}`,children:`${s.first_name} ${s.last_name}`}),e.jsx("p",{className:"text-sm",children:s.company||"No Company"}),e.jsx("span",{className:"text-xs",children:s.address||"No Address Available"})]}),e.jsxs("div",{className:"flex flex-col gap-2 text-sm w-[12rem]",children:[e.jsxs("span",{className:"font-bold text-slate-500",children:["M: ",e.jsx("span",{className:"text-slate-400 text-sm w-[5rem]"})," "]}),e.jsxs("span",{className:"font-bold text-slate-500",children:["O: ",e.jsx("span",{className:"text-slate-400 text-sm w-[5rem]"})," "]}),e.jsxs("span",{className:"font-bold text-slate-500",children:["F: ",e.jsx("span",{className:"text-slate-400 text-sm w-[5rem]"})," "]})]})]})})]})})},s.id||l))})]}),$=s=>{const l=t=>{m(r=>({...r,client:t.first_name}))};return s?e.jsxs("div",{className:" w-full h-full relative",children:[e.jsx("div",{className:"rounded-full w-[9rem] h-[9rem] bg-slate-200 mx-auto absolute z-40 left-[50%] -translate-x-2/4 -top-[4rem] border-4 shadow-md border-white"}),e.jsxs("div",{className:"bg-white shadow-2xl flex flex-col gap-4 pt-[6rem] h-full w-full max-w-[30rem] mx-auto rounded-2xl px-6 py-2 mt-[3rem]",children:[e.jsx(P,{data:{first_name:s,middle_initial:"",last_name:""},onNameChange:l,emptyFields:y,setEmptyFields:v,inputClassName:"!py-[.5rem]"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"company",children:"Company"}),e.jsx("input",{type:"text",name:"company",placeholder:"Company",value:a.clientTitle||"",onChange:c,className:"w-full border border-gray-300 rounded-md !py-[.5rem]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"title",children:"Title"}),e.jsx("input",{type:"text",name:"title",placeholder:"Title",value:a.clientTitle||"",onChange:c,className:"w-full border border-gray-300 rounded-md !py-[.5rem]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email Address"}),e.jsx("input",{type:"text",name:"email",placeholder:"Email Address",value:a.clientEmail||"",onChange:c,className:"w-full border border-gray-300 rounded-md !py-[.5rem]"})]}),e.jsx("div",{children:e.jsx("button",{children:"Cancel"})})]})]}):null},F=s=>s.inputValue?`Add "${s.inputValue}"`:s.first_name&&s.last_name?`${s.first_name} ${s.last_name}`:typeof s=="string"?s:"Unknown";return e.jsxs("div",{className:"flex flex-row gap-10 w-full h-full",children:[e.jsx("div",{className:"w-[55%] my-auto",children:f?$(h):o&&o.length>0?S():e.jsx(A,{className:"saturate-0",imageUrl:"/client.svg",svgClass:"max-w-[12rem]",children:{description:e.jsx("p",{className:"text-slate-300 max-w-[22rem]",children:"You have not entered a production schedule yet. Add one now!"})}})}),e.jsxs("div",{className:"flex flex-col gap-6 w-[45%] justify-center",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(k,{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold",htmlFor:"clients",children:"Client"}),e.jsx("p",{className:"text-sm mb-2 text-slate-400",children:"Type a clients name to associate this project to a client or add a new one!"}),e.jsx(B,{value:h,onChange:_,placeholder:"Steve Jobs - Apple, Inc",filterOptions:(s,l)=>{const t=T(s,l),{inputValue:r}=l,p=s.some(j=>`${j.first_name} ${j.last_name}`===r);return r!==""&&!p&&t.push({inputValue:r,first_name:"Add",last_name:`"${r}"`,id:`add-${r}`}),t},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,options:o,getOptionLabel:F,renderOption:(s,l)=>d.createElement(U,{...s,key:l.id},l.first_name&&l.last_name?`${l.first_name} ${l.last_name}`:"Unknown"),freeSolo:!0})]})}),e.jsxs("div",{className:"flex flex-row gap-4 w-full",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"projectStage",children:["Project Stage ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{name:"projectStage",onChange:c,value:a.projectStage||"",className:"w-full border border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select a Project Stage"}),J.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"projectStatus",children:["Project Status ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{name:"projectStatus",onChange:c,value:a.projectStatus||"",className:"w-full border border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select a Project Status"}),Y.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"filmingDays",children:"Filming Days"}),e.jsx("input",{type:"number",name:"filmingDays",placeholder:"Filming Days",value:a.filmingDays||"",onChange:c,className:"w-full border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"w-full flex flex-row gap-2 items-center mb-6",children:[e.jsxs("div",{className:"w-2/3",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"projectBudget",children:"Project Budget"}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"items-center w-[3rem] justify-center flex text-sm text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md",children:q[x]}),e.jsx("input",{type:"text",name:"projectBudget",placeholder:"2,000,000",value:a.projectBudget||"",onChange:c,className:"w-full border border-rose-300 rounded-r-2xl rounded-l-none"})]})]}),e.jsxs("div",{className:"w-1/3",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"currency",children:"Currency"}),e.jsx("select",{name:"currency",value:x,onChange:C,className:"w-full border border-gray-300 rounded-md",children:R.map(s=>e.jsx("option",{value:s,children:s},s))})]})]})]})]})};export{ue as default};
