import{i as C,r as i,j as e}from"./app-e454a32c.js";import{P as d}from"./PrimaryButton-40aba8a0.js";import{F as u}from"./index.es-372425f6.js";import{V as T,W as v}from"./index-54708238.js";import P from"./CallSheetPreview-2a8b1334.js";import"./index-af94e81f.js";import"./IconButton-c8b21cd2.js";import"./CallSheetDesktopPreview-2afffe93.js";import"./CardContainer-6cb7a831.js";import"./Weather-14e4d648.js";import"./ApplicationName-4b218fbc.js";function U({project:x,callSheet:t}){const{drawerWidth:m,expandDrawer:c}=C(),[n,o]=i.useState(!1),[p,$]=i.useState(!1),[k,w]=i.useState("");function h(s){if(/^\d{1,2}:\d{2} (AM|PM)$/i.test(s))return s;const l=new Date(s);if(isNaN(l.getTime()))return"";let a=l.getHours();const j=l.getMinutes(),D=a>=12?"PM":"AM";a%=12,a=a||12;const N=a.toString(),_=j.toString().padStart(2,"0");return`${N}:${_} ${D}`}function g(s){const r={weekday:"short",year:"numeric",month:"long",day:"numeric",timeZone:"UTC"};return new Date(s).toLocaleDateString(void 0,r)}i.useEffect(()=>{m==="normal"?setTimeout(()=>{o(!1)},100):m==="wide"&&o(!0)},[m]),i.useEffect(()=>{if(t!=null&&t.call_sheet_date_time){const s=h(t.call_sheet_date_time),r=g(t.call_sheet_date_time);w(`${r} at ${s}`)}},[t]);const y=()=>{o(!n),n?setTimeout(()=>{},5):setTimeout(()=>{c("wide")},0)},f=()=>{o(!1),setTimeout(()=>{c("normal")},5)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full text-center mb-8",children:[e.jsx("h2",{className:"text-center text-2xl text-slate-500 mb-2",children:t==null?void 0:t.call_sheet_name}),e.jsx("span",{children:"Ready to send the call sheet to all your recipients?"})]}),e.jsxs("div",{className:"flex flex-row gap-10 opacity-0 animate-fadeIn h-full",children:[n?e.jsx(d,{onClick:f,className:"transition-all !duration-[50ms] ease-in-out transform w-[2.5rem] h-[4rem] !px-[.5rem] bg-indigo-400",children:e.jsx(u,{className:"text-md",icon:T})}):e.jsx(d,{onClick:y,className:"transition-all ease-in-out w-full h-[4rem] bg-indigo-400",children:"Preview Call Sheet"}),n&&e.jsxs("div",{className:`fade-in-delay w-full flex flex-row gap-10 ${p?"opacity-1":"opacity-0"}`,children:[e.jsx(P,{project:x,callSheet:t}),e.jsx(d,{onClick:f,className:"transition-all !duration-[50ms] ease-in-out transform w-[2.5rem] h-[4rem] !px-[.5rem]",children:e.jsx(u,{className:"text-md",icon:v})})]})]})]})}export{U as default};
