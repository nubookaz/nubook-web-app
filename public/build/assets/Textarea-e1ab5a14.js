import{b as A,i as ne,_ as x,g as ie,a as se,s as E,u as le,c as de,d as $,f as J,h as ce}from"./useSlot-e00659a1.js";import{r as u,j as T,b as ue}from"./app-968085fd.js";import{u as xe}from"./Input-271e9293.js";import{o as pe,c as ve}from"./Tooltip-37a15d1f.js";function he(r,e=166){let d;function i(...s){const l=()=>{r.apply(this,s)};clearTimeout(d),d=setTimeout(l,e)}return i.clear=()=>{clearTimeout(d)},i}function L(r){return pe(r).defaultView||window}const ge=["onChange","maxRows","minRows","style","value"];function W(r){return parseInt(r,10)||0}const fe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function V(r){return r==null||Object.keys(r).length===0||r.outerHeightStyle===0&&!r.overflow}const me=u.forwardRef(function(e,d){const{onChange:i,maxRows:s,minRows:l=1,style:h,value:p}=e,S=A(e,ge),{current:z}=u.useRef(p!=null),g=u.useRef(null),w=ne(d,g),R=u.useRef(null),f=u.useRef(0),[H,k]=u.useState({outerHeightStyle:0}),b=u.useCallback(()=>{const a=g.current,t=L(a).getComputedStyle(a);if(t.width==="0px")return{outerHeightStyle:0};const o=R.current;o.style.width=t.width,o.value=a.value||e.placeholder||"x",o.value.slice(-1)===`
`&&(o.value+=" ");const m=t.boxSizing,O=W(t.paddingBottom)+W(t.paddingTop),N=W(t.borderBottomWidth)+W(t.borderTopWidth),P=o.scrollHeight;o.value="x";const y=o.scrollHeight;let v=P;l&&(v=Math.max(Number(l)*y,v)),s&&(v=Math.min(Number(s)*y,v)),v=Math.max(v,y);const M=v+(m==="border-box"?O+N:0),j=Math.abs(v-P)<=1;return{outerHeightStyle:M,overflow:j}},[s,l,e.placeholder]),n=(a,c)=>{const{outerHeightStyle:t,overflow:o}=c;return f.current<20&&(t>0&&Math.abs((a.outerHeightStyle||0)-t)>1||a.overflow!==o)?(f.current+=1,{overflow:o,outerHeightStyle:t}):a},D=u.useCallback(()=>{const a=b();V(a)||k(c=>n(c,a))},[b]),I=()=>{const a=b();V(a)||ue.flushSync(()=>{k(c=>n(c,a))})};u.useEffect(()=>{const a=()=>{f.current=0,g.current&&I()},c=he(()=>{f.current=0,g.current&&I()});let t;const o=g.current,m=L(o);return m.addEventListener("resize",c),typeof ResizeObserver<"u"&&(t=new ResizeObserver(a),t.observe(o)),()=>{c.clear(),m.removeEventListener("resize",c),t&&t.disconnect()}}),ve(()=>{D()}),u.useEffect(()=>{f.current=0},[p]);const F=a=>{f.current=0,z||D(),i&&i(a)};return T.jsxs(u.Fragment,{children:[T.jsx("textarea",x({value:p,onChange:F,ref:w,rows:l,style:x({height:H.outerHeightStyle,overflow:H.overflow?"hidden":void 0},h)},S)),T.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:R,tabIndex:-1,style:x({},fe.shadow,h,{paddingTop:0,paddingBottom:0})})]})});function Te(r){return se("MuiTextarea",r)}const be=ie("MuiTextarea",["root","textarea","startDecorator","endDecorator","formControl","disabled","error","focused","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft"]),Z=be,ye=["propsToForward","rootStateClasses","inputStateClasses","getRootProps","getInputProps","formControl","focused","error","disabled","size","color","variant","startDecorator","endDecorator","minRows","maxRows","component","slots","slotProps"],Ce=r=>{const{disabled:e,variant:d,color:i,size:s}=r,l={root:["root",e&&"disabled",d&&`variant${J(d)}`,i&&`color${J(i)}`,s&&`size${J(s)}`],textarea:["textarea"],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return ce(l,Te,{})},Se=E("div",{name:"JoyTextarea",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r,ownerState:e})=>{var d,i,s,l,h;const p=(d=r.variants[`${e.variant}`])==null?void 0:d[e.color];return[x({"--Textarea-radius":r.vars.radius.sm,"--Textarea-gap":"0.5rem","--Textarea-placeholderColor":"inherit","--Textarea-placeholderOpacity":.64,"--Textarea-decoratorColor":r.vars.palette.text.icon,"--Textarea-focused":"0","--Textarea-focusedThickness":r.vars.focus.thickness},e.color==="context"?{"--Textarea-focusedHighlight":r.vars.palette.focusVisible}:{"--Textarea-focusedHighlight":(i=r.vars.palette[e.color==="neutral"?"primary":e.color])==null?void 0:i[500]},e.size==="sm"&&{"--Textarea-minHeight":"2rem","--Textarea-paddingBlock":"calc(0.5rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"0.5rem","--Textarea-decoratorChildHeight":"min(1.5rem, var(--Textarea-minHeight))","--Icon-fontSize":r.vars.fontSize.xl},e.size==="md"&&{"--Textarea-minHeight":"2.5rem","--Textarea-paddingBlock":"calc(0.5rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"0.75rem","--Textarea-decoratorChildHeight":"min(2rem, var(--Textarea-minHeight))","--Icon-fontSize":r.vars.fontSize.xl2},e.size==="lg"&&{"--Textarea-minHeight":"3rem","--Textarea-paddingBlock":"calc(0.75rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"1rem","--Textarea-gap":"0.75rem","--Textarea-decoratorChildHeight":"min(2.375rem, var(--Textarea-minHeight))","--Icon-fontSize":r.vars.fontSize.xl2},{"--_Textarea-paddingBlock":"max((var(--Textarea-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Textarea-decoratorChildHeight)) / 2, 0px)","--Textarea-decoratorChildRadius":"max(var(--Textarea-radius) - var(--variant-borderWidth, 0px) - var(--_Textarea-paddingBlock), min(var(--_Textarea-paddingBlock) + var(--variant-borderWidth, 0px), var(--Textarea-radius) / 2))","--Button-minHeight":"var(--Textarea-decoratorChildHeight)","--IconButton-size":"var(--Textarea-decoratorChildHeight)","--Button-radius":"var(--Textarea-decoratorChildRadius)","--IconButton-radius":"var(--Textarea-decoratorChildRadius)",boxSizing:"border-box"},e.variant!=="plain"&&{boxShadow:r.shadow.xs},{minWidth:0,minHeight:"var(--Textarea-minHeight)",cursor:"text",position:"relative",display:"flex",flexDirection:"column",paddingInlineStart:"var(--Textarea-paddingInline)",paddingBlock:"var(--Textarea-paddingBlock)",borderRadius:"var(--Textarea-radius)"},r.typography[`body-${e.size}`],p,{backgroundColor:(s=p==null?void 0:p.backgroundColor)!=null?s:r.vars.palette.background.surface,"&:before":{boxSizing:"border-box",content:'""',display:"block",position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,zIndex:1,borderRadius:"inherit",margin:"calc(var(--variant-borderWidth, 0px) * -1)",boxShadow:"var(--Textarea-focusedInset, inset) 0 0 0 calc(var(--Textarea-focused) * var(--Textarea-focusedThickness)) var(--Textarea-focusedHighlight)"}}),{"&:hover":x({},(l=r.variants[`${e.variant}Hover`])==null?void 0:l[e.color],{backgroundColor:null,cursor:"text"}),[`&.${Z.disabled}`]:(h=r.variants[`${e.variant}Disabled`])==null?void 0:h[e.color],"&:focus-within::before":{"--Textarea-focused":"1"}}]}),ze=E(me,{name:"JoyTextarea",slot:"Textarea",overridesResolver:(r,e)=>e.textarea})({resize:"none",border:"none",minWidth:0,outline:0,padding:0,paddingInlineEnd:"var(--Textarea-paddingInline)",flex:"auto",alignSelf:"stretch",color:"inherit",backgroundColor:"transparent",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontWeight:"inherit",lineHeight:"inherit","&::-webkit-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&::-moz-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&:-ms-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&::-ms-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"}}),we=E("div",{name:"JoyTextarea",slot:"StartDecorator",overridesResolver:(r,e)=>e.startDecorator})({display:"flex",marginInlineStart:"calc(var(--Textarea-paddingBlock) - var(--Textarea-paddingInline))",marginInlineEnd:"var(--Textarea-paddingBlock)",marginBlockEnd:"var(--Textarea-gap)",color:"var(--Textarea-decoratorColor)",cursor:"initial"}),Re=E("div",{name:"JoyTextarea",slot:"EndDecorator",overridesResolver:(r,e)=>e.endDecorator})({display:"flex",marginInlineStart:"calc(var(--Textarea-paddingBlock) - var(--Textarea-paddingInline))",marginInlineEnd:"var(--Textarea-paddingBlock)",marginBlockStart:"var(--Textarea-gap)",color:"var(--Textarea-decoratorColor)",cursor:"initial"}),He=u.forwardRef(function(e,d){var i,s,l,h,p,S,z;const g=le({props:e,name:"JoyTextarea"}),w=xe(g,Z),{propsToForward:R,rootStateClasses:f,inputStateClasses:H,getRootProps:k,getInputProps:b,formControl:n,focused:D,error:I=!1,disabled:F=!1,size:a="md",color:c="neutral",variant:t="outlined",startDecorator:o,endDecorator:m,minRows:O,maxRows:N,component:P,slots:y={},slotProps:v={}}=w,M=A(w,ye),j=(i=(s=e.disabled)!=null?s:n==null?void 0:n.disabled)!=null?i:F,U=(l=(h=e.error)!=null?h:n==null?void 0:n.error)!=null?l:I,q=(p=(S=e.size)!=null?S:n==null?void 0:n.size)!=null?p:a,{getColor:G}=de(t),K=G(e.color,U?"danger":(z=n==null?void 0:n.color)!=null?z:c),C=x({},g,{color:K,disabled:j,error:U,focused:D,size:q,variant:t}),B=Ce(C),_=x({},M,{component:P,slots:y,slotProps:v}),[Q,X]=$("root",{ref:d,className:[B.root,f],elementType:Se,externalForwardedProps:_,getSlotProps:k,ownerState:C}),[Y,ee]=$("textarea",{additionalProps:{id:n==null?void 0:n.htmlFor,"aria-describedby":n==null?void 0:n["aria-describedby"]},className:[B.textarea,H],elementType:ze,internalForwardedProps:x({},R,{minRows:O,maxRows:N}),externalForwardedProps:_,getSlotProps:b,ownerState:C}),[re,ae]=$("startDecorator",{className:B.startDecorator,elementType:we,externalForwardedProps:_,ownerState:C}),[te,oe]=$("endDecorator",{className:B.endDecorator,elementType:Re,externalForwardedProps:_,ownerState:C});return T.jsxs(Q,x({},X,{children:[o&&T.jsx(re,x({},ae,{children:o})),T.jsx(Y,x({},ee)),m&&T.jsx(te,x({},oe,{children:m}))]}))}),Be=He;export{Be as T};
