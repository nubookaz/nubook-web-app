import{j as e,d as L,u as R,b as W,r as s}from"./app-d6201cb1.js";import{F as H}from"./index.es-4ddfc134.js";import{an as U,ao as Y,s as q}from"./index-d825d59e.js";import J from"./ProjectSelector-5a95dcf5.js";import K from"./ProjectStepper-dd7db97a.js";import M from"./VideoStepOne-4ed08d27.js";import Q from"./VideoStepTwo-59f5b211.js";import X from"./VideoStepThree-0d6084c8.js";import"./index-cbb8f8c7.js";import"./toPropertyKey-0671445a.js";import"./useSlot-958e930c.js";import"./Typography-651ae2a6.js";import"./extendSxProp-0a396769.js";import"./isMuiElement-2d2d89c3.js";import"./ViewerRating-9231d0bc.js";import"./createSvgIcon-1017b8ba.js";import"./ownerWindow-8eff4865.js";import"./useEnhancedEffect-8ef057d9.js";import"./useIsFocusVisible-38d1530f.js";import"./useControlled-565a38ff.js";import"./useEventCallback-4bbe510b.js";import"./Box-dc96a855.js";import"./RadioGroupContext-f4fb6991.js";import"./FormControlContext-906cd091.js";import"./Chip-fc48afba.js";import"./variantColorInheritance-3035274c.js";import"./styleUtils-354e910e.js";import"./useSwitch-eb67bf78.js";import"./MoviePoster-cab3b639.js";import"./index-2fa57b8b.js";import"./SecondaryButton-ec37e17e.js";import"./Modal-aea4b1df.js";import"./CircularProgress-f468e6ba.js";import"./Tooltip-72ad1b91.js";import"./Popper-e501f2f6.js";import"./Option-8a17d132.js";import"./ListItemButton-596ed1f7.js";import"./createSvgIcon-ba04faf8.js";import"./Textarea-a202688a.js";import"./useForwardedInput-ffe731dd.js";function v({active:_=!1,activeClass:y="",className:l,icon:d,size:m,href:u,onClick:o,children:i,inText:p,iconPosition:r="left"}){const j=`page-button px-[1rem] bg-white ${{small:"page-button-small",medium:"page-button-medium",large:"page-button-large"}[m]||""} ${_?y:""} ${l}`,n=d&&e.jsx(H,{className:r==="left"?"mr-4":"ml-4",icon:d}),h=p&&e.jsx("span",{className:"button-text my-auto",children:p});return u?e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsxs(L,{href:u,className:j,children:[r==="left"&&n,h,r==="right"&&n]}),i&&e.jsx("span",{className:"button-text",children:i})]}):e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsxs("button",{onClick:o,className:j,children:[r==="left"&&n,h,r==="right"&&n]}),i&&e.jsx("span",{className:"button-text",children:i})]})}function Le({customClasses:_}){R();const{createProject:y}=W(),[l,d]=s.useState(!1),[m,u]=s.useState(!1);s.useEffect(()=>{d(!0),u(!0)},[]);const[o,i]=s.useState(0),[p,r]=s.useState({}),f=4,[j,n]=s.useState(!1),[h,C]=s.useState(null),[b,I]=s.useState(!1),[S,P]=s.useState({width:0,height:0}),D=t=>{P(t)},[V,Z]=s.useState({}),[x,T]=s.useState({project_name:"",project_description:"",primary_genre:"",secondary_genre:"",viewer_rating:"",movie_poster:""}),[w,k]=s.useState({project_stage:"",project_status:"",filming_days:"",project_budget:""}),[z,ee]=s.useState({}),[a,N]=s.useState({project_type:"",video_type:""}),F=t=>{T(t)},A=t=>{k(t)},$=t=>{t.active&&(N(c=>({...c,project_type:t.name})),i(1))},E=t=>{t.active&&(N(c=>({...c,video_type:t.name})),i(2))},O=()=>{o>0&&(i(t=>t-1),r({}))},B=()=>{if(o===1&&a.project_type==="Video Production"&&!a.video_type){r({...p,video_type:!0});return}if(o===2&&!x.project_name.trim()){r({...p,project_name:!0});return}if(o===3){let t={...p};if(a.project_stage||(t.project_stage=!0),a.project_status||(t.project_status=!0),r(t),Object.values(t).some(c=>c===!0))return}o<f-1&&i(t=>t+1)},g=[{step:1,header:"Choose a Project Type",description:"Choose a project type below"},{step:2,header:a.project_type,description:"What type of project are you working on?"},{step:3,header:a.video_type,description:"Provide some information about your project below. You must fill out all fields if you want to create an AI generated poster."},{step:4,header:a.video_type,description:"Lets add additional details for your project"}],G=async()=>{const t={...V,...x,...w,...z,project_type:t.project_type,video_type:t.video_type},c={isImageAIGenerated:b,uploadedImage:h,posterWidth:S.width,posterHeight:S.height};console.log(t,c),y(t,c)};return e.jsxs("div",{className:`fade-in w-[80rem] py-[4rem] px-[8rem] ${l?"opacity-1":"opacity-0"}`,children:[e.jsx("div",{className:`fade-in w-full max-w-[56rem] mx-auto ${l?"opacity-1":"opacity-0"}`,children:e.jsx(K,{currentStep:o,activeProject:a.project_type})}),e.jsx("div",{className:"my-auto mx-auto h-full w-full max-w-[85rem] pt-[3rem]",children:e.jsx("div",{className:"h-full",children:e.jsxs("div",{className:`fade-in-delay flex flex-col gap-8 h-full ${m?"opacity-1":"opacity-0"}`,children:[o>=0&&o<g.length&&e.jsxs("div",{className:"flex flex-col justify-start",children:[e.jsx("h2",{className:"text-lg font-bold text-center",children:g[o].header}),e.jsx("p",{className:"text-center text-sm",children:g[o].description})]}),e.jsx("div",{className:"flex flex-row gap-4 justify-center h-full py-6 ",children:e.jsxs("div",{className:`fade-in-delay w-full h-full ${m?"opacity-1":"opacity-0"}`,children:[o===0&&e.jsx("div",{className:"w-full",children:e.jsx(J,{onProjectClick:$,activeProject:a.project_type})}),o===1&&a.project_type==="Video Production"&&e.jsx("div",{className:"w-full",children:e.jsx(M,{onVideoTypeClick:E,showError:p.video_type,activeVideoType:a.video_type})}),o===2&&a.project_type==="Video Production"&&e.jsx("div",{className:"w-full",children:e.jsx(Q,{data:x,projectData:a,onDataChange:F,emptyFields:p,setEmptyFields:r,isCustomImage:j,setIsCustomImage:n,setUploadedImage:C,setImageIsAIGenerated:I,onPosterSizeChange:D})}),o===3&&a.project_type==="Video Production"&&e.jsx("div",{className:"w-full",children:e.jsx(X,{data:w,onDataChange:A,emptyFields:p})})]})}),e.jsxs("div",{className:"flex flex-row justify-end justify-evenly",children:[o>0&&e.jsx(v,{className:"!my-auto !bg-transparent duration-500 ease-in-out py-2 hover:bg-emerald-100",size:"small",icon:U,inText:"Back",onClick:O}),o===0&&a.project_type||o>0&&o<f-1?e.jsx(v,{iconPosition:"right",className:"!my-auto !bg-transparent duration-500 ease-in-out py-2 hover:bg-emerald-100",size:"small",icon:Y,inText:"Next",onClick:B}):null,o===f-1&&e.jsx(v,{className:"!my-auto duration-500 ease-in-out py-2 hover:bg-emerald-100",size:"small",icon:q,inText:"Submit",onClick:G})]})]})})})]})}export{Le as default};
