import{r as i,j as t,y as k}from"./app-968085fd.js";import{R as B}from"./RightPanel-0eceaab0.js";import{C as V}from"./CircularButton-5433ef48.js";import{S as N}from"./SecondaryButton-1ee136e4.js";import O from"./CallSheetDetails-40e78e62.js";import{p as D}from"./index-f033c28d.js";import"./index.es-3e6cee57.js";import"./Tooltip-37a15d1f.js";import"./useSlot-e00659a1.js";import"./Input-271e9293.js";import"./useSwitch-f1ae9baa.js";function K(c){const[r,m]=i.useState(""),[l,d]=i.useState(""),[E,p]=i.useState(!0),{isRightPanelOpen:a,toggleRightPanel:n}=c,u={callSheetTitle:r,callSheetDate:l},f=()=>{setIsRightPanelOpen(!a),setShowSlideOutPanel(!0)},C=e=>{x()?(console.log("Form is valid!"),g()):console.error("Please fill out all required fields on step one.")},S=(e,o)=>new Promise((P,v)=>{const R="projects.callSheets.create",y={id:o};k.post(route(R,y),e,{onSuccess:s=>{console.log("Create",e),console.log("Response Call Sheet",s),n(!a),P(s)},onError:s=>{console.log("Create",e),console.error("Error creating Call Sheet:",s),v(s)}})}),g=async()=>{console.log(u);const e=c.projectId;await S(u,e)},x=()=>{const e=r.trim()!=="",o=l!=="";return p(e&&o),e&&o},j=()=>{h()?window.confirm("Are you sure you want to proceed?")&&(m(""),d(""),n(!a)):n(!1)},h=()=>{let e=!1;return e=r.trim()!==""||l.trim()!=="",e},w=()=>t.jsx(N,{onClick:C,children:"Create Call Sheet"}),F=()=>t.jsx(V,{icon:D,size:"small",onClick:j});return t.jsx(B,{isRightPanelOpen:a,toggleRightPanel:f,showSlideOutPanel:!1,panel_header:t.jsx("div",{className:"header",children:t.jsxs("div",{children:[t.jsx("h2",{children:"Create a new call sheet"}),t.jsx("p",{className:"p-base",children:"Enter details below for your new call sheet"})]})}),panel_footer:t.jsxs("div",{className:"flex flex-row gap-4",children:[F(),w()]}),children:t.jsx("div",{children:t.jsx(O,{callSheetData:{callSheetTitle:r,callSheetDate:l},setCallSheetTitle:m,setCallSheetDate:d,checkFormStatus:h})})})}export{K as default};
