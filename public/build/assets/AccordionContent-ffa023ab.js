import{r as i,j as n}from"./app-8b83436b.js";import{I as A}from"./Input-77ff0868.js";import L from"./Address-c975a121.js";import"./Tooltip-1f0ef08d.js";import"./toPropertyKey-39201a13.js";import"./useSlot-a2532144.js";import"./useIsFocusVisible-97f68d26.js";import"./useControlled-9031fbe1.js";import"./useEventCallback-96e4a742.js";import"./useEnhancedEffect-99238f73.js";import"./Popper-794acb7d.js";const J=i.forwardRef(({callSheet:s,dataType:f,title:t,onFormDataChange:o,onInformationChange:e,required:v,label:_,resetSignal:b},k)=>{const[d,m]=i.useState({name:"",address:{}}),[x,p]=i.useState(""),w=r=>{const a={...d,name:r.target.value};m(a),o&&o(a)},$=r=>{p(r.target.value),e&&e(r.target.value)},E=r=>{const a={...d,address:r};m(a),o&&o(a)};i.useEffect(()=>{var j,g;let r={name:(s==null?void 0:s.name)||"",information:(s==null?void 0:s.information)||""},a={};switch(f){case"location":a=(s==null?void 0:s.location)||{};break;case"parking":a=((j=s==null?void 0:s.parking_location)==null?void 0:j.location)||{};break;case"hospital":a=((g=s==null?void 0:s.hospital_location)==null?void 0:g.location)||{};break;default:a={}}const c={...r,address:a||{}};m(c),p(r.information),o&&o(c),e&&e(r.information)},[s,f]),i.useEffect(()=>{m({name:"",address:{}}),p(""),o&&o({name:"",address:{}}),e&&e("")},[b]);const u=200;return n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx(A,{ref:k,title:t,label:t,name:`${t.toLowerCase().replace(/\s/g,"_")}_name`,placeholder:`${t} Name`,required:v,value:d.name,onChange:w}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:`${t.toLowerCase().replace(/\s/g,"_")}_information`,className:"text-gray-400 text-sm",children:`${_} Information`}),n.jsx("textarea",{placeholder:`${t} information`,name:`${t.toLowerCase().replace(/\s/g,"_")}_information`,value:x,onChange:$,onKeyDown:r=>{r.key==="Enter"&&r.preventDefault()},maxLength:u,style:{resize:"none"}}),n.jsxs("p",{className:"text-right text-xs font-bold",children:[u-x.length," characters remaining"]})]}),n.jsx(L,{onAddressChange:E,data:d.address})]})});export{J as default};
