import{a as _}from"./toPropertyKey-a23e7eac.js";import{r as t}from"./app-eefe6961.js";import{a as w,c as y}from"./useIsFocusVisible-a86ea076.js";import{b as E}from"./useSlot-a85726b4.js";function T(k){const{checked:s,defaultChecked:i,disabled:u,onBlur:f,onChange:d,onFocus:h,onFocusVisible:p,readOnly:b,required:B}=k,[g,m]=w({controlled:s,default:!!i,name:"Switch",state:"checked"}),C=n=>e=>{var l;e.nativeEvent.defaultPrevented||(m(e.target.checked),d==null||d(e),(l=n.onChange)==null||l.call(n,e))},{isFocusVisibleRef:c,onBlur:V,onFocus:R,ref:I}=y(),[o,r]=t.useState(!1);u&&o&&r(!1),t.useEffect(()=>{c.current=o},[o,c]);const a=t.useRef(null),x=n=>e=>{var l;a.current||(a.current=e.currentTarget),R(e),c.current===!0&&(r(!0),p==null||p(e)),h==null||h(e),(l=n.onFocus)==null||l.call(n,e)},S=n=>e=>{var l;V(e),c.current===!1&&r(!1),f==null||f(e),(l=n.onBlur)==null||l.call(n,e)},F=E(I,a);return{checked:g,disabled:!!u,focusVisible:o,getInputProps:(n={})=>_({checked:s,defaultChecked:i,disabled:u,readOnly:b,ref:F,required:B,type:"checkbox",role:"switch","aria-checked":s},n,{onChange:C(n),onFocus:x(n),onBlur:S(n)}),inputRef:F,readOnly:!!b}}export{T as u};
