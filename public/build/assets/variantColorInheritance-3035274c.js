import{a as V}from"./toPropertyKey-0671445a.js";import{r as d,j as _}from"./app-d6201cb1.js";import{b as j,E as T}from"./useSlot-958e930c.js";import{b as A}from"./useIsFocusVisible-38d1530f.js";function S(a){const{rootElementName:n="",componentName:l}=a,[i,b]=d.useState(n.toUpperCase()),r=d.useCallback(u=>{var c;b((c=u==null?void 0:u.tagName)!=null?c:"")},[]);return[i,r]}function Q(a={}){const{disabled:n=!1,focusableWhenDisabled:l,href:i,rootRef:b,tabIndex:r,to:u,type:c,rootElementName:x}=a,N=d.useRef(),[v,E]=d.useState(!1),{isFocusVisibleRef:g,onFocus:B,onBlur:D,ref:F}=A(),[p,y]=d.useState(!1);n&&!l&&p&&y(!1),d.useEffect(()=>{g.current=p},[p,g]);const[m,M]=S({rootElementName:x??(i||u?"a":void 0),componentName:"Button"}),P=t=>e=>{var o;p&&e.preventDefault(),(o=t.onMouseLeave)==null||o.call(t,e)},U=t=>e=>{var o;D(e),g.current===!1&&y(!1),(o=t.onBlur)==null||o.call(t,e)},K=t=>e=>{var o;if(N.current||(N.current=e.currentTarget),B(e),g.current===!0){var f;y(!0),(f=t.onFocusVisible)==null||f.call(t,e)}(o=t.onFocus)==null||o.call(t,e)},R=()=>{const t=N.current;return m==="BUTTON"||m==="INPUT"&&["button","submit","reset"].includes(t==null?void 0:t.type)||m==="A"&&(t==null?void 0:t.href)},I=t=>e=>{if(!n){var o;(o=t.onClick)==null||o.call(t,e)}},w=t=>e=>{var o;n||(E(!0),document.addEventListener("mouseup",()=>{E(!1)},{once:!0})),(o=t.onMouseDown)==null||o.call(t,e)},$=t=>e=>{var o;if((o=t.onKeyDown)==null||o.call(t,e),!e.defaultMuiPrevented&&(e.target===e.currentTarget&&!R()&&e.key===" "&&e.preventDefault(),e.target===e.currentTarget&&e.key===" "&&!n&&E(!0),e.target===e.currentTarget&&!R()&&e.key==="Enter"&&!n)){var f;(f=t.onClick)==null||f.call(t,e),e.preventDefault()}},L=t=>e=>{var o;if(e.target===e.currentTarget&&E(!1),(o=t.onKeyUp)==null||o.call(t,e),e.target===e.currentTarget&&!R()&&!n&&e.key===" "&&!e.defaultMuiPrevented){var f;(f=t.onClick)==null||f.call(t,e)}},C=j(M,b,F,N),s={};return r!==void 0&&(s.tabIndex=r),m==="BUTTON"?(s.type=c??"button",l?s["aria-disabled"]=n:s.disabled=n):m==="INPUT"?c&&["button","submit","reset"].includes(c)&&(l?s["aria-disabled"]=n:s.disabled=n):m!==""&&(!i&&!u&&(s.role="button",s.tabIndex=r??0),n&&(s["aria-disabled"]=n,s.tabIndex=l?r??0:-1)),{getRootProps:(t={})=>{const e=V({},T(a),T(t)),o=V({type:c},e,s,t,{onBlur:U(e),onClick:I(e),onFocus:K(e),onKeyDown:$(e),onKeyUp:L(e),onMouseDown:w(e),onMouseLeave:P(e),ref:C});return delete o.onFocusVisible,o},focusVisible:p,setFocusVisible:y,active:v,rootRef:C}}const k=d.createContext(void 0);function O(a,n){let l=n,i=a;return a==="outlined"&&(l="neutral",i="plain"),a==="plain"&&(l="neutral"),{variant:i,color:l}}function X(a,n,l=!1){const i=d.useContext(k),[b,r]=typeof i=="string"?i.split(":"):[],u=O(b||void 0,r||void 0);return u.variant=a||u.variant,u.color=n||(l?r:u.color),u}function Y({children:a,color:n,variant:l}){return _.jsx(k.Provider,{value:`${l||""}:${n||""}`,children:a})}export{Y as V,X as a,O as g,Q as u};
