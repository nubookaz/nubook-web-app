import{n as C,e as j,l as T,r as s,j as t}from"./app-8b83436b.js";import{P as g}from"./PrimaryButton-83478115.js";import{S as w}from"./SecondaryButton-ae44dfd5.js";import _ from"./Time-0bff5189.js";import"./index.es-ee268f83.js";import"./index-3b70e7e7.js";function v({data:o,callSheet:a}){const{currentCallSheet:l,updateCurrentCallSheet:i}=C(),{toggleModal:c}=j(),r=()=>{c(!1)},{setSnackContent:m,setIsSnackOpen:u}=T(),[y,d]=s.useState(!1);s.useEffect(()=>{d(!0)},[]);const[f,p]=s.useState(o),x=e=>{p(e)},h=async()=>{try{const e=f,n=await axios.put(route("projects.callSheets.update.generalCallTime",{id:a.project_id,callSheetId:a.id}),{generalCallTime:e});if(n.status<200||n.status>=300)throw new Error("Failed to update general call time");i({call_sheet_date_time:e}),setTimeout(()=>{m("Call time was updated successfully"),u(!0)},600),r(!1)}catch(e){console.error(e)}};return t.jsxs("div",{className:"flex flex-col gap-2 p-[3rem] w-[30rem] h-full",children:[t.jsx("h2",{className:"text-center text-slate-500 flex justify-center w-full text-2xl mx-auto max-w-[16rem]",children:"Adjust your general call time"}),t.jsx(_,{initialTime:(l==null?void 0:l.call_sheet_date_time)||a.call_sheet_date_time,onTimeChange:x,className:"py-10"}),t.jsxs("div",{className:"w-full flex flex-row justify-center gap-6",children:[t.jsx(w,{onClick:r,children:"Cancel"}),t.jsx(g,{onClick:h,children:"Submit"})]})]})}export{v as default};
