import{r as e,j as o}from"./app-8b83436b.js";import C from"./AccordionContent-ffa023ab.js";import v from"./Hospitals-0e69e761.js";import{F as f}from"./index.es-ee268f83.js";import{i as x}from"./index-e6ab5b50.js";import"./Input-77ff0868.js";import"./Tooltip-1f0ef08d.js";import"./toPropertyKey-39201a13.js";import"./useSlot-a2532144.js";import"./useIsFocusVisible-97f68d26.js";import"./useControlled-9031fbe1.js";import"./useEventCallback-96e4a742.js";import"./useEnhancedEffect-99238f73.js";import"./Popper-794acb7d.js";import"./Address-c975a121.js";import"./index-3b70e7e7.js";const J=e.forwardRef(({callSheet:a,locationType:l="location",onAccordionDataChange:g,onAccordionInfoChange:u,resetSignal:c},k)=>{var w;const[s,j]=e.useState(l),[d,r]=e.useState({location:{address:{}},parking:{address:{}},hospital:{address:{}}}),[y,b]=e.useState({location:"",parking:"",hospital:""});e.useEffect(()=>{r({location:{},parking:{},hospital:{}}),b({location:"",parking:"",hospital:""})},[c]);const h=e.useCallback((t,i)=>{r(n=>({...n,[t]:i}))},[]),N=e.useCallback((t,i)=>{b(n=>({...n,[t]:i}))},[]),_=t=>{let i=t;(!t.address||!t.address.place_id)&&(i={name:t.name,address:{place_id:t.place_id,city:"",latitude:t.geometry.location.lat,longitude:t.geometry.location.lng,state:"",street_address:t.vicinity,zip_code:""},information:""}),r(n=>({...n,hospital:i}))};e.useEffect(()=>{a&&r(t=>({...t,location:a.location?a.location:{address:{}},parking:a.parking_location?a.parking_location:{address:{}},hospital:a.hospital_location?a.hospital_location:{address:{}}}))},[a]);const p=t=>{j(i=>i===t?null:t)},m=t=>({maxHeight:s===t?"500px":"0px",overflow:"hidden",transition:"max-height 0.5s ease-in-out, padding 0.5s ease-in-out",padding:s===t?"20px":"0px"});return e.useEffect(()=>{g(d),u(y)},[d,y,g,u]),e.useEffect(()=>{j(l)},[l]),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("button",{onClick:()=>p("location"),className:`${s==="location"?"bg-slate-300 font-semibold shadow-sm":""} bg-slate-100 py-4 px-6 rounded-lg text-slate-500 flex flex-row justify-between items-center`,children:["Primary Location Details",o.jsx(f,{icon:x,className:`${s==="location"?"rotate-90":""}`,style:{transform:s==="location"?"rotate(-90deg)":"",transition:"transform 0.3s ease-in-out"}})]}),o.jsx("div",{style:m("location"),children:o.jsx(C,{callSheet:a,dataType:"location",title:"Location Name",label:"Location",onFormDataChange:t=>h("location",t),onInformationChange:t=>N("location",t),ref:k,resetSignal:c})})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("button",{onClick:()=>p("parking"),className:`${s==="parking"?"bg-slate-200":""} bg-slate-100 py-4 px-6 rounded-lg text-slate-500 flex flex-row justify-between items-center`,children:["Parking Details",o.jsx(f,{icon:x,className:`${s==="parking"?"rotate-90":""}`,style:{transform:s==="parking"?"rotate(-90deg)":"",transition:"transform 0.3s ease-in-out"}})]}),o.jsx("div",{style:m("parking"),children:o.jsx(C,{callSheet:a,dataType:"parking",title:"Parking Name",label:"Location",onFormDataChange:t=>h("parking",t),onInformationChange:t=>N("parking",t),ref:k,resetSignal:c})})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("button",{onClick:()=>p("hospital"),className:`${s==="hospital"?"bg-slate-200":""} bg-slate-100 py-4 px-6 rounded-lg text-slate-500 flex flex-row justify-between items-center`,children:["Nearby Hospital Locations",o.jsx(f,{icon:x,className:`${s==="hospital"?"rotate-90":""}`,style:{transform:s==="hospital"?"rotate(-90deg)":"",transition:"transform 0.3s ease-in-out"}})]}),o.jsx("div",{style:m("hospital"),children:o.jsx(v,{existingHospitalData:a.hospital_location,locationAddress:(w=d.location)==null?void 0:w.address,onSelectHospital:_})})]})]})});export{J as default};
