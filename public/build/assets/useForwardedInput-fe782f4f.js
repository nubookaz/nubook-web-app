import{a as C,_ as M}from"./toPropertyKey-a22241f9.js";import{r as u}from"./app-e454a32c.js";import{F as N}from"./FormControlContext-dfeeca36.js";import{b as O,E as S,p as U}from"./useSlot-7faddf1c.js";const W=u.createContext(void 0);function $(){return u.useContext(W)}function j(g={}){const{defaultValue:s,disabled:m=!1,error:t=!1,onBlur:i,onChange:B,onFocus:x,required:I=!1,value:q,inputRef:v}=g,e=$();let F,a,c,f,d;if(e){var y,P,E;F=void 0,a=(y=e.disabled)!=null?y:!1,c=(P=e.error)!=null?P:!1,f=(E=e.required)!=null?E:!1,d=e.value}else F=s,a=m,c=t,f=I,d=q;const{current:k}=u.useRef(d!=null),w=u.useCallback(r=>{},[]),p=u.useRef(null),R=O(p,v,w),[h,b]=u.useState(!1);u.useEffect(()=>{!e&&a&&h&&(b(!1),i==null||i())},[e,a,h,i]);const H=r=>o=>{var l;if(e!=null&&e.disabled){o.stopPropagation();return}if((l=r.onFocus)==null||l.call(r,o),e&&e.onFocus){var n;e==null||(n=e.onFocus)==null||n.call(e)}else b(!0)},V=r=>o=>{var l;(l=r.onBlur)==null||l.call(r,o),e&&e.onBlur?e.onBlur():b(!1)},_=r=>(o,...l)=>{var n,L;if(!k&&(o.target||p.current)==null)throw new Error(U(17));e==null||(n=e.onChange)==null||n.call(e,o),(L=r.onChange)==null||L.call(r,o,...l)},K=r=>o=>{var l;p.current&&o.currentTarget===o.target&&p.current.focus(),(l=r.onClick)==null||l.call(r,o)};return{disabled:a,error:c,focused:h,formControlContext:e,getInputProps:(r={})=>{const l=C({},{onBlur:i,onChange:B,onFocus:x},S(r)),n=C({},l,{onBlur:V(l),onChange:_(l),onFocus:H(l)});return C({},n,{"aria-invalid":c||void 0,defaultValue:F,value:d,required:f,disabled:a},r,{ref:R},n)},getRootProps:(r={})=>{const o=S(g,["onBlur","onChange","onFocus"]),l=C({},o,S(r));return C({},r,l,{onClick:K(l)})},inputRef:R,required:f,value:d}}const z=["aria-describedby","aria-label","aria-labelledby","autoComplete","autoFocus","className","defaultValue","disabled","disabledInProp","error","id","name","onClick","onChange","onKeyDown","onKeyUp","onFocus","onBlur","placeholder","readOnly","required","type","value"];function Y(g,s){var m;const t=u.useContext(N),{"aria-describedby":i,"aria-label":B,"aria-labelledby":x,autoComplete:I,autoFocus:q,className:v,defaultValue:e,disabled:F,disabledInProp:a,error:c,id:f,name:d,onClick:y,onChange:P,onKeyDown:E,onKeyUp:k,onFocus:w,onBlur:p,placeholder:R,readOnly:h,required:b,type:H,value:V}=g,_=M(g,z),{getRootProps:K,getInputProps:T,focused:D,error:r,disabled:o}=j({disabled:(m=a??(t==null?void 0:t.disabled))!=null?m:F,defaultValue:e,error:c,onBlur:p,onClick:y,onChange:P,onFocus:w,required:b??(t==null?void 0:t.required),value:V}),l={[s.disabled]:o,[s.error]:r,[s.focused]:D,[s.formControl]:!!t,[v]:v},n={[s.disabled]:o};return C({formControl:t,propsToForward:{"aria-describedby":i,"aria-label":B,"aria-labelledby":x,autoComplete:I,autoFocus:q,disabled:o,id:f,onKeyDown:E,onKeyUp:k,name:d,placeholder:R,readOnly:h,type:H},rootStateClasses:l,inputStateClasses:n,getRootProps:K,getInputProps:T,focused:D,error:r,disabled:o},_)}export{Y as u};
